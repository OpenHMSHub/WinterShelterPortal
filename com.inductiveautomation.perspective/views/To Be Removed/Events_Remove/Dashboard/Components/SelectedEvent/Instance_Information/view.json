{
  "custom": {
    "eventData": {
      "$": [
        "ds",
        192,
        1627312008516
      ],
      "$columns": [
        {
          "data": [
            55
          ],
          "name": "instanceID",
          "type": "Integer"
        },
        {
          "data": [
            81
          ],
          "name": "parentEventID",
          "type": "Integer"
        },
        {
          "data": [
            1626986465000
          ],
          "name": "startDate",
          "type": "Date"
        },
        {
          "data": [
            1626990065000
          ],
          "name": "endDate",
          "type": "Date"
        },
        {
          "data": [
            "TIGA"
          ],
          "name": "venue",
          "type": "String"
        },
        {
          "data": [
            ""
          ],
          "name": "room",
          "type": "String"
        },
        {
          "data": [
            "No notes yet.. Start typing!"
          ],
          "name": "note",
          "type": "String"
        },
        {
          "data": [
            81
          ],
          "name": "eventID",
          "type": "Integer"
        },
        {
          "data": [
            false
          ],
          "name": "allDay",
          "type": "Boolean"
        },
        {
          "data": [
            1626986465000
          ],
          "name": "startDate",
          "type": "Date"
        },
        {
          "data": [
            1626990065000
          ],
          "name": "endDate",
          "type": "Date"
        },
        {
          "data": [
            "Test with Nino"
          ],
          "name": "title",
          "type": "String"
        },
        {
          "data": [
            "Classes \u0026 Workshops"
          ],
          "name": "category",
          "type": "String"
        },
        {
          "data": [
            "AA Meeting"
          ],
          "name": "subCategory",
          "type": "String"
        },
        {
          "data": [
            "Test with Nino"
          ],
          "name": "description",
          "type": "String"
        },
        {
          "data": [
            false
          ],
          "name": "audienceVolunteers",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "audienceStaff",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "audienceParticipants",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "audienceMen",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "audienceWomen",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "audienceMinors",
          "type": "Boolean"
        },
        {
          "data": [
            "TIGA"
          ],
          "name": "venue",
          "type": "String"
        },
        {
          "data": [
            ""
          ],
          "name": "room",
          "type": "String"
        },
        {
          "data": [
            1
          ],
          "name": "volunteersNeeded",
          "type": "Integer"
        },
        {
          "data": [
            1
          ],
          "name": "staffNeeded",
          "type": "Integer"
        },
        {
          "data": [
            false
          ],
          "name": "monday",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "tuesday",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "wednesday",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "thursday",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "friday",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "saturday",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "sunday",
          "type": "Boolean"
        },
        {
          "data": [
            "once"
          ],
          "name": "freq",
          "type": "String"
        },
        {
          "data": [
            null
          ],
          "name": "bymonth",
          "type": "Integer"
        },
        {
          "data": [
            null
          ],
          "name": "bysetpos",
          "type": "Integer"
        },
        {
          "data": [
            1
          ],
          "name": "interval",
          "type": "Integer"
        },
        {
          "data": [
            false
          ],
          "name": "repeat",
          "type": "Boolean"
        },
        {
          "data": [
            false
          ],
          "name": "deleted",
          "type": "Boolean"
        }
      ]
    },
    "eventData_old": {
      "$": [
        "ds",
        192,
        1627311951013
      ],
      "$columns": [
        {
          "data": [],
          "name": "instanceID",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "parentEventID",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "startDate",
          "type": "Date"
        },
        {
          "data": [],
          "name": "endDate",
          "type": "Date"
        },
        {
          "data": [],
          "name": "venue",
          "type": "String"
        },
        {
          "data": [],
          "name": "room",
          "type": "String"
        },
        {
          "data": [],
          "name": "note",
          "type": "String"
        },
        {
          "data": [],
          "name": "eventID",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "allDay",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "startDate",
          "type": "Date"
        },
        {
          "data": [],
          "name": "endDate",
          "type": "Date"
        },
        {
          "data": [],
          "name": "title",
          "type": "String"
        },
        {
          "data": [],
          "name": "category",
          "type": "String"
        },
        {
          "data": [],
          "name": "subCategory",
          "type": "String"
        },
        {
          "data": [],
          "name": "description",
          "type": "String"
        },
        {
          "data": [],
          "name": "audienceVolunteers",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "audienceStaff",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "audienceParticipants",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "audienceMen",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "audienceWomen",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "audienceMinors",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "venue",
          "type": "String"
        },
        {
          "data": [],
          "name": "room",
          "type": "String"
        },
        {
          "data": [],
          "name": "volunteersNeeded",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "staffNeeded",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "monday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "tuesday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "wednesday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "thursday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "friday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "saturday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "sunday",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "freq",
          "type": "String"
        },
        {
          "data": [],
          "name": "bymonth",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "bysetpos",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "interval",
          "type": "Integer"
        },
        {
          "data": [],
          "name": "repeat",
          "type": "Boolean"
        },
        {
          "data": [],
          "name": "deleted",
          "type": "Boolean"
        }
      ]
    }
  },
  "params": {
    "instanceID": 55
  },
  "propConfig": {
    "custom.eventData": {
      "binding": {
        "config": {
          "parameters": {
            "instanceID": "{view.params.instanceID}"
          },
          "queryPath": "Calendar/EventInstance/GetEventInstanceByID"
        },
        "type": "query"
      },
      "persistent": true
    },
    "custom.eventData_old": {
      "binding": {
        "config": {
          "parameters": {
            "instanceID": "{view.params.eventID}"
          },
          "queryPath": "Calendar/EventInstance/GetEventInstanceByID"
        },
        "type": "query"
      },
      "persistent": true
    },
    "params.instanceID": {
      "paramDirection": "input",
      "persistent": true
    },
    "props.defaultSize.height": {
      "binding": {
        "config": {
          "path": "/root/Event_Title.props.text"
        },
        "transforms": [
          {
            "code": "\theight \u003d 160\n\tnumberOfLines \u003d len(value)//30\n\tfinalHeight \u003d 160+numberOfLines*30\n\t\n\treturn finalHeight",
            "type": "script"
          }
        ],
        "type": "property"
      }
    }
  },
  "props": {
    "defaultSize": {
      "width": 557
    }
  },
  "root": {
    "children": [
      {
        "meta": {
          "name": "Event_Date"
        },
        "position": {
          "basis": "30px",
          "shrink": 0
        },
        "propConfig": {
          "props.text": {
            "binding": {
              "config": {
                "expression": "upper(dateFormat({parent.custom.Date}, \"MMMM d, YYYY\"))"
              },
              "type": "expr"
            }
          }
        },
        "props": {
          "style": {
            "classes": "Event/Event_DateText",
            "textAlign": "left"
          }
        },
        "type": "ia.display.label"
      },
      {
        "meta": {
          "name": "Event_Title"
        },
        "position": {
          "shrink": 0
        },
        "propConfig": {
          "props.text": {
            "binding": {
              "config": {
                "path": "parent.custom.Title"
              },
              "type": "property"
            }
          }
        },
        "props": {
          "style": {
            "classes": "Event/Event_TitleText",
            "fontSize": 32
          }
        },
        "type": "ia.display.label"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Icon"
            },
            "position": {
              "basis": "20px"
            },
            "props": {
              "path": "material/schedule",
              "style": {
                "marginRight": 5
              }
            },
            "type": "ia.display.icon"
          },
          {
            "meta": {
              "name": "Event_Frequency"
            },
            "propConfig": {
              "position.display": {
                "binding": {
                  "config": {
                    "expression": "if({this.props.text}\u003d\"\",false,true )"
                  },
                  "type": "expr"
                }
              },
              "props.text": {
                "binding": {
                  "config": {
                    "path": "view.custom.eventData"
                  },
                  "transforms": [
                    {
                      "code": "\tif value.getValueAt(0,\"freq\") !\u003d \"once\" :\n\t\treturn \"Every \"\n\treturn \"\"",
                      "type": "script"
                    }
                  ],
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "marginRight": 5
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Dot"
            },
            "propConfig": {
              "meta.visible": {
                "binding": {
                  "config": {
                    "expression": "if({../Event_Frequency.props.text} !\u003d \"\",true,false)"
                  },
                  "type": "expr"
                }
              },
              "position.display": {
                "binding": {
                  "config": {
                    "path": "this.meta.visible"
                  },
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "marginRight": 5
              },
              "text": "●"
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Event_Days"
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "expression": "{/root.custom.DaysSelected}"
                  },
                  "transforms": [
                    {
                      "code": "\tDateString \u003d \"\"\n\tDays \u003d [\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"]\n\tnumberOfDays \u003d 0\n\t\n\tfor x in value :\n\t\tif x :\n\t\t\tnumberOfDays +\u003d 1\n\t\n\t\"\"\" Use short notation when there are 2 or more days selected  \"\"\"\n\tshortNotation \u003d True if numberOfDays \u003e\u003d2 else False\n\t\n\tfor idx,val in enumerate(value) : \n\t\tif val :\t\t\n\t\t\t\"\"\" Check for short notation, if shortnotation is true use first 3 characters \"\"\"\n\t\t\tDateString \u003d DateString + (Days[idx][:3] if shortNotation else Days[idx])\n\t\t\t\"\"\" Check for last day\"\"\"\n\t\t\tnumberOfDays -\u003d 1\n\t\t\tDateString \u003d DateString + (\", \" if numberOfDays \u003e 0 else \" \")\n\t\t\t\n\t\n\treturn DateString",
                      "type": "script"
                    }
                  ],
                  "type": "expr"
                }
              }
            },
            "props": {
              "style": {
                "marginRight": 5
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Time"
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "struct": {
                      "EndTime": "{/root.custom.EndDate}",
                      "StartTime": "{/root.custom.Date}"
                    },
                    "waitOnAll": true
                  },
                  "transforms": [
                    {
                      "code": "\tstartTime \u003d system.date.format(value.StartTime, \"h:mm a\")\n\tendtime \u003d system.date.format(value.EndTime, \"h:mm a\")\n\tduration \u003d startTime + \" - \" + endtime\n\treturn duration.upper()",
                      "type": "script"
                    }
                  ],
                  "type": "expr-struct"
                }
              }
            },
            "type": "ia.display.label"
          }
        ],
        "meta": {
          "name": "Frequency"
        },
        "position": {
          "basis": "30px",
          "shrink": 0
        },
        "props": {
          "style": {
            "classes": "Event/Event_Text"
          }
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Icon"
            },
            "position": {
              "basis": "20px"
            },
            "props": {
              "path": "material/location_on",
              "style": {
                "marginRight": 5
              }
            },
            "type": "ia.display.icon"
          },
          {
            "meta": {
              "name": "Venue"
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "expression": "{/root.custom.Venue} + \" ● \""
                  },
                  "type": "expr"
                }
              }
            },
            "props": {
              "style": {
                "marginRight": 5
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "Room"
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "path": "/root.custom.Room"
                  },
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "marginLeft": 2
              }
            },
            "type": "ia.display.label"
          }
        ],
        "meta": {
          "name": "Location"
        },
        "position": {
          "basis": "30px",
          "shrink": 0
        },
        "props": {
          "style": {
            "classes": "Event/Event_Text"
          }
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Category"
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "expression": "{/root.custom.Category} + \" ●\""
                  },
                  "type": "expr"
                }
              }
            },
            "props": {
              "style": {
                "marginRight": 5
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "SubCategory"
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "path": "/root.custom.SubCategory"
                  },
                  "type": "property"
                }
              }
            },
            "type": "ia.display.label"
          }
        ],
        "meta": {
          "name": "Category"
        },
        "position": {
          "basis": "30px",
          "shrink": 0
        },
        "props": {
          "style": {
            "classes": "Event/Event_SubTitle"
          }
        },
        "type": "ia.container.flex"
      }
    ],
    "meta": {
      "name": "root"
    },
    "propConfig": {
      "custom.Category": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"Category\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      },
      "custom.Date": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"startDate\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      },
      "custom.DaysSelected": {
        "binding": {
          "config": {
            "expression": "{view.custom.eventData}"
          },
          "transforms": [
            {
              "code": "\t\n\tarr \u003d [value.getValueAt(0,\u0027monday\u0027),value.getValueAt(0,\u0027tuesday\u0027),value.getValueAt(0,\u0027wednesday\u0027),value.getValueAt(0,\u0027thursday\u0027),value.getValueAt(0,\u0027friday\u0027),value.getValueAt(0,\u0027saturday\u0027),value.getValueAt(0,\u0027sunday\u0027)]\n\t\n\treturn arr",
              "type": "script"
            }
          ],
          "type": "expr"
        }
      },
      "custom.EndDate": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"endDate\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      },
      "custom.Room": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"room\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      },
      "custom.SubCategory": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"SubCategory\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      },
      "custom.Title": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"Title\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      },
      "custom.Venue": {
        "binding": {
          "config": {
            "path": "view.custom.eventData"
          },
          "transforms": [
            {
              "code": "\treturn value.getValueAt(0,\"venue\")",
              "type": "script"
            }
          ],
          "type": "property"
        }
      }
    },
    "props": {
      "direction": "column"
    },
    "type": "ia.container.flex"
  }
}